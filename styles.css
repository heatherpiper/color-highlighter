.color-highlighter {
    -webkit-box-decoration-break: clone;
}

.color-highlighter.background {
    position: relative;
    background-color: var(--highlight-color);
    color: var(--contrast-color);
    border-radius: var(--background-border-radius, 3px);
    padding: var(--background-vertical-padding, 0.1em) var(--background-horizontal-padding, 0.2em);
    caret-color: var(--caret-color);
    z-index: 0;
}

.color-highlighter.background[data-contrast-border="true"] {
    z-index: 0;
}

.color-highlighter.background[data-contrast-border="true"]::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border: 1px solid var(--background-modifier-border-hover);
    border-radius: inherit;
    z-index: 1;
    pointer-events: none;
}

.color-highlighter.border {
    border-color: var(--highlight-color);
    border-radius: var(--border-radius, 3px);
    border-width: var(--border-thickness, 2px);
    border-style: solid;
    padding: 0 0.2em;
}

.color-highlighter.underline {
    border-bottom-color: var(--highlight-color);
    border-bottom-width: var(--underline-thickness, 2px);
    border-bottom-style: solid;
}

.color-highlighter-square {
    display: inline-block;
    vertical-align: middle;
    margin-top: -0.2em;
    border-radius: var(--square-border-radius, 1px);
    background-color: var(--highlight-color);
}

.color-highlighter-square-after {
    margin-left: 0.25em;
}

.color-highlighter-square-before {
    margin-right: 0.25em;
}

.color-highlighter-square-fixed {
    width: 10px;
    height: 10px;
}

.color-highlighter-square-scalable {
    width: 0.8em;
    height: 0.8em;
}

.color-highlighter-square[data-contrast-border="true"] {
    border: 1px solid var(--background-modifier-border-hover);
}

.cm-strikethrough .color-highlighter-square,
.markdown-rendered del .color-highlighter-square {
    position: relative;
}

.cm-strikethrough .color-highlighter-square::before,
.markdown-rendered del .color-highlighter-square::before {
    content: "";
    position: absolute;
    left: -0.25em;
    right: 0;
    top: 50%;
    border-top: 1.5px solid currentColor;
}

.color-highlighter-picker {
    display: none;
    position: absolute;
    left: var(--picker-left, 0);
    top: var(--picker-top, 0);
}

.color-highlighter-picker-visible {
    display: block;
}

.color-highlighter-picker-left {
    transform: translateX(-100%);
}

.color-highlighter-picker-top {
    transform: translateY(-100%);
}
